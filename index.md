---
title: Format String Vulnerability
author: Sebastian Feustel
---

## Printf()

## Dokumentation
  - [man 3 printf](https://man7.org/linux/man-pages/man3/printf.3.html)

## Code
```c
#include <stdio.h>

int main(){
  printf("Sag, mir wen ich grüßen soll: ");
  char in[256];
  fgets(in, 256, stdin);
  
  printf(in);
	
  return 0;
}
```

## Aufbau von Stack
![](img/stack.png)

## Leaking Memory 

## Potenzelle gefahren 
  - Crashen vom Program (DDOS)
  - Unautorisiertes auslesen vom Stack Daten 
  - Ausführen von beliebigen Code 

## Wortklärung
  - Vulnerability
  - Exploit
  - Payload

## Mittigations
  - ASLR (Address space layout randomization)
  - Stack Cookies
  - DEP (Data Execution Prevention)

## Heute immer noch ein Probem?

### Webanwendungen
  - Meisten Webserver/Datenbanken/Betriebssysteme basieren auf C oder C++
  - Formatstrings in Javascript-Code
  - PHP sprintf-Format-String-Schwachstelle 

### In anderen Progsprachen
  Schwahstellen in Format Strings können in jeder größeren Programmiersprache auftretten. 

## Zusammenfassung 
  - Userinput ist böse (das können auch files sein)
  - Daten könnne zu code werden 
  - Lese Dokumentation von Bibilotheken die du verwendest.

## Quellen

### Bücher 
  - [Hacking The Art of Exploitation 2nd Edition](https://nostarch.com/hacking2.htm)
  - [Exploit! Code härten, Bugs analysieren, Hacks verstehen](https://www.rheinwerk-verlag.de/exploit-code-haerten-bugs-analysieren-hacks-verstehen/)

### Youtube 
  - [LiveOverflow Binary Exploitation / Memory Corruption](https://www.youtube.com/watch?v=iyAyN3GFM7A&list=PLhixgUqwRTjxglIswKp9mpkfPNfHkzyeN)
  - [John Hammond Format String Vulnerabilities](https://www.youtube.com/watch?v=DhVRI33s-D0)

### Blogs
  - [wallarm](https://www.wallarm.com/what/format-string-vulnerability)
  - [fuzzysecurity](https://fuzzysecurity.com/tutorials/expDev/10.html)
  - [infosecwriteups](https://infosecwriteups.com/exploiting-format-string-vulnerability-97e3d588da1b)
  - [securecoding](https://www.securecoding.com/blog/format-string-vulnerability)
  - [invicti](https://www.invicti.com/blog/web-security/format-string-vulnerabilities)
  - [axcheron](https://axcheron.github.io/exploit-101-format-strings)

## Fragen?
